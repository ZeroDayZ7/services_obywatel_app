# ==============================================================================
# GATEWAY - MAIN CONFIGURATION
# ==============================================================================

# Server
APP_NAME=Gateway
PORT=8081
ENV=development
APP_VERSION=2.1.1
BODY_LIMIT_MB=2
SERVER_HEADER=ZeroDayZ7/Gateway
PREFORK=false
CASE_SENSITIVE=true
STRICT_ROUTING=false

# Czas trwania (Duration) - format: 30s, 15m, 1h
IDLE_TIMEOUT=30s
READ_TIMEOUT=15s
WRITE_TIMEOUT=15s

# ==============================================================================
# SECURITY & AUTH
# ==============================================================================

# Sekrety JWT (muszą być takie same jak w Auth-Service)
JWT_ACCESS_SECRET=your_jwt_access_secret_here
JWT_REFRESH_SECRET=your_jwt_refresh_secret_here

# Klucz HMAC do weryfikacji między serwisami
INTERNAL_HMAC_SECRET=your_internal_hmac_secret_at_least_64_chars

# Konfiguracja CORS (np. * lub konkretne domeny)
CORS_ALLOW_ORIGINS=*

# ==============================================================================
# INFRASTRUCTURE
# ==============================================================================

# Redis
REDIS_HOST=127.0.0.1
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Sessions
REDIS_SESSION_PREFIX=session:
REDIS_SESSION_TTL=60m

# Telemetry (OpenTelemetry)
OTEL_ENABLED=false
OTEL_ENDPOINT=localhost:4318
OTEL_SERVICE_NAME=gateway

# ==============================================================================
# UPSTREAM SERVICES (Lokalizacje mikroserwisów)
# ==============================================================================

SERVICE_AUTH_URL=http://localhost:8082
SERVICE_DOCS_URL=http://localhost:8083
SERVICE_NOTIFY_URL=http://localhost:8084
SERVICE_USERS_URL=http://localhost:3000

# ==============================================================================
# PROXY TUNING (Parametry Reverse Proxy)
# ==============================================================================

PROXY_MAX_IDLE_CONNS=100
PROXY_MAX_IDLE_CONNS_PER_HOST=20
PROXY_IDLE_CONN_TIMEOUT=90s
PROXY_REQUEST_TIMEOUT=30s

# Graceful shutdown
SHUTDOWN_TIMEOUT=5s